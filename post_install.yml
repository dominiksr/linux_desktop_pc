---
- hosts: localhost
  become: yes
  tasks:
    ### Utilities
    - name: Install useful utilities
      package:
        name: 
          - curl
          - flatpak
          - git
          - neofetch
        state: present
    ### Apps
    - name: Install useful apps
      package:
        name: 
          - cockpit
          - gnome-firmware
          - gparted
        state: present

    ### Flatpak and Flathub apps
    - name: Enable Flathub repository
      command: flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo        
        
    - name: Install useful Flatpack Apps
      flatpak:
        name: 
          - org.gnome.Totem
          - org.gnome.Calculator
          - org.gnome.Cheese
          - org.gnome.eog
          - org.gnome.Evince
          - org.remmina.Remmina
          - com.visualstudio.code
          - de.haeckerfelix.Fragments
          - com.dropbox.Client
          - org.signal.Signal
          - com.github.micahflee.torbrowser-launcher
          - org.libreoffice.LibreOffice          
          - org.mozilla.firefox
          - com.mattjakeman.ExtensionManager
          - dev.geopjr.Collision
          - org.gimp.GIMP
          - fr.romainvigier.MetadataCleaner
          - com.belmoussaoui.Obfuscate
        state: present 
    ### Remove apps
    - name: Remove Gnome Apps
      package: 
        name: 
          - gnome-maps
          - gnome-weather
          - gnome-boxes
          - gnome-calendar
          - gnome-clocks
          - gnome-calculator
          - gnome-characters
          - gnome-connections
          - gnome-contacts
          - gnome-font-viewer
          - gnome-logs
          - cheese
          - baobab
          - simple-scan
          - rhythmbox
          - totem
          - firefox
        state: absent
    - name: Remove Gnome Tour
      package: 
        name: gnome-tour
        state: absent 
    - name: Remove Gnome Help 
      package: 
        name: yelp
        state: absent
    - name: Remove Image Viewer 
      package: 
        name: eog
        state: absent
    - name: Remove Fedora Media Writer
      package: 
        name: mediawriter
        state: absent
    - name: Remove Libreoffice 
      package: 
        name: libreoffice-core
        state: absent
    - name: Language that not useful 
      package: 
        name: 
          - libzhuyin
          - libpinyin
        state: absent
        
    # - name: Enable Night Light
    #   dconf:
    #     key: '/org/gnome/settings-daemon/plugins/color/night-light-enabled'
    #     value: 'true'
    # - name: Set Night Light Temperature
    #   dconf:
    #     key: /org/gnome/settings-daemon/plugins/color/night-light-temperature
    #     value: uint32 5500
